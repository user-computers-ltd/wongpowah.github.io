{"version":3,"sources":["resources/background.png","views/components/menubutton/index.js","loader.js","views/components/logo/index.js","views/components/header/index.js","views/components/footer/index.js","views/components/background/index.js","app.js","index.js"],"names":["module","exports","__webpack_require__","p","MenuButton","_ref","expanded","className","props","Object","objectWithoutProperties","react_default","a","createElement","assign","ClassNames","defaultProps","options","Logo","xmlns","viewBox","x","y","width","height","fill","stroke","strokeWidth","d","Header","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","float","aboutActive","agencyActive","contactActive","showDropdown","_scrollHandler","debounce","_onScroll","_showDropdown","bind","assertThisInitialized","_hideDropdown","element","elementId","node","component","document","getElementById","parentNode","setState","addEventListener","event","_isWithinComponent","target","removeEventListener","about","agency","contact","scrollY","window","windowTop","offsetTop","_this2","history","_unlisten","listen","_this3","_this$state","id","NavLink","to","logo","menubutton","onClick","show","active","style","pointerEvents","Component","footer","href","rel","Background","backgroundImage","Promise","resolve","image","Image","onload","onerror","src","BackgroundImage","then","concat","LoadComponent","loadFunction","loader","Loading","Error","Timeout","loading","error","retry","timedOut","isLoading","timeout","createHistory","titleMap","#about","#products","#contact","Home","e","Loadable","App","hash","location","subtitle","title","Router","Route","path","exact","Footer","background_Background","render","app_App"],"mappings":"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","file":"static/js/main.27956b7d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background.456f5ea4.png\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ClassNames from \"classnames\";\n\nimport \"./style.css\";\n\nconst MenuButton = ({ expanded, className, ...props }) => (\n  <div\n    {...props}\n    className={ClassNames(\"menu-button\", { expanded }, className)}\n  >\n    <div className=\"menu-line\" />\n    <div className=\"menu-line\" />\n    <div className=\"menu-line\" />\n  </div>\n);\n\nMenuButton.propTypes = {\n  expanded: PropTypes.bool.isRequired,\n  className: PropTypes.string.isRequired\n};\n\nMenuButton.defaultProps = {\n  className: \"\"\n};\n\nexport default MenuButton;\n","import React from \"react\";\nimport Loadable from \"react-loadable\";\nimport LoadableVisibility from \"react-loadable-visibility/react-loadable\";\n\nconst LoadComponent = (\n  loadFunction,\n  { loader, Loading, Error, Timeout, timeout }\n) => {\n  return loadFunction({\n    loader,\n    loading: props => {\n      if (props.error && Error) {\n        return <Error retry={props.retry} />;\n      } else if (props.timedOut && Timeout) {\n        return <Timeout retry={props.retry} />;\n      } else if (props.isLoading && Loading) {\n        return <Loading />;\n      }\n    },\n    timeout\n  });\n};\n\nexport const Load = options => LoadComponent(Loadable, options);\n\nexport const LoadWhenVisible = options =>\n  LoadComponent(LoadableVisibility, options);\n","import React from \"react\";\n\nconst Logo = props => (\n  <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 400 400\">\n    <rect x=\"0\" y=\"0\" width=\"400\" height=\"400\" fill=\"#ff0000\" />\n    <rect\n      x=\"15\"\n      y=\"15\"\n      width=\"370\"\n      height=\"370\"\n      fill=\"none\"\n      stroke=\"#ffffff\"\n      strokeWidth=\"10\"\n    />\n    <path\n      d=\"M40 80 L100 320 L160 320 L200 180 L240 320 L300 320 L360 80 L310 80 L270 260 L220 80  L180 80 L130 260 L90 80 Z\"\n      stroke=\"none\"\n      fill=\"#ffffff\"\n    />\n  </svg>\n);\n\nexport default Logo;\n","import React, { Component } from \"react\";\nimport { NavLink as Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport ClassNames from \"classnames\";\nimport debounce from \"debounce\";\n\nimport MenuButton from \"../menubutton\";\n\nimport Logo from \"../logo\";\n\nimport \"./style.css\";\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      float: false,\n      aboutActive: false,\n      agencyActive: false,\n      contactActive: false,\n      showDropdown: false\n    };\n\n    this._scrollHandler = debounce(() => this._onScroll(), true);\n    this._showDropdown = this._showDropdown.bind(this);\n    this._hideDropdown = this._hideDropdown.bind(this);\n  }\n\n  _isWithinComponent(element, elementId) {\n    let node = element;\n    let component = document.getElementById(elementId);\n\n    while (node !== null) {\n      if (node === component) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n\n  _showDropdown() {\n    this.setState({ showDropdown: true });\n\n    document.addEventListener(\"mousedown\", this._hideDropdown);\n  }\n\n  _hideDropdown(event) {\n    if (\n      !event ||\n      (!this._isWithinComponent(event.target, \"menu-button\") &&\n        !this._isWithinComponent(event.target, \"menu\"))\n    ) {\n      this.setState({ showDropdown: false });\n\n      document.removeEventListener(\"mousedown\", this._hideDropdown);\n    }\n  }\n\n  _onScroll() {\n    const about = document.getElementById(\"about\");\n    const agency = document.getElementById(\"agency\");\n    const contact = document.getElementById(\"contact\");\n    const { scrollY } = window;\n\n    let windowTop = scrollY + 60;\n    let aboutActive = false;\n    let agencyActive = false;\n    let contactActive = false;\n\n    if (contact && windowTop > contact.offsetTop) {\n      contactActive = true;\n    } else if (agency && windowTop > agency.offsetTop) {\n      agencyActive = true;\n    } else if (about && windowTop > about.offsetTop) {\n      aboutActive = true;\n    }\n\n    this.setState({\n      float: scrollY > 0,\n      aboutActive,\n      agencyActive,\n      contactActive\n    });\n  }\n\n  componentDidMount() {\n    const { history } = this.props;\n\n    window.addEventListener(\"scroll\", this._scrollHandler);\n    this._scrollHandler();\n\n    this._unlisten = history.listen(() => this._hideDropdown());\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this._scrollHandler);\n\n    this._unlisten();\n  }\n\n  render() {\n    const {\n      float,\n      showDropdown,\n      aboutActive,\n      agencyActive,\n      contactActive\n    } = this.state;\n\n    return (\n      <div id=\"header-wrapper\" className={ClassNames({ float })}>\n        <div id=\"header\">\n          <Link id=\"home-link\" to=\"/\">\n            <Logo id=\"logo\" />\n            <span>黃保華針車有限公司</span>\n          </Link>\n          <MenuButton\n            id=\"menu-button\"\n            expanded={showDropdown}\n            onClick={() =>\n              showDropdown ? this._hideDropdown() : this._showDropdown()\n            }\n          />\n          <div id=\"menu\" className={ClassNames({ show: showDropdown })}>\n            <Link\n              className={ClassNames({ active: aboutActive }, \"link\")}\n              style={aboutActive ? { pointerEvents: \"none\" } : null}\n              to=\"/#about\"\n            >\n              關於\n            </Link>\n            <Link\n              className={ClassNames({ active: agencyActive }, \"link\")}\n              style={agencyActive ? { pointerEvents: \"none\" } : null}\n              to=\"/#agency\"\n            >\n              代理\n            </Link>\n            <Link\n              className={ClassNames({ active: contactActive }, \"link\")}\n              style={contactActive ? { pointerEvents: \"none\" } : null}\n              to=\"/#contact\"\n            >\n              聯絡\n            </Link>\n            <div id=\"menu-right\" />\n          </div>\n        </div>\n        <Link id=\"back\" to=\"/\" />\n      </div>\n    );\n  }\n}\n\nHeader.propTypes = {\n  history: PropTypes.shape().isRequired\n};\n\nexport default Header;\n","import React from \"react\";\n\nimport \"./style.css\";\n\nexport default () => (\n  <div id=\"footer-wrapper\">\n    <div id=\"footer\">\n      <div id=\"copy-right\">© 2019 WPW - All rights reserved</div>\n      <div id=\"signature\">\n        ⟨ ⟩ with <span>♥</span> by{\" \"}\n        <a href=\"https://johnwong.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n          John Wong\n        </a>\n      </div>\n    </div>\n  </div>\n);\n","import React, { Component } from \"react\";\nimport BackgroundImage from \"../../../resources/background.png\";\n\nimport \"./style.css\";\n\nexport default class Background extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { backgroundImage: null };\n  }\n\n  componentDidMount() {\n    new Promise(resolve => {\n      let image = new Image();\n      image.onload = resolve;\n      image.onerror = resolve;\n      image.src = BackgroundImage;\n    }).then(() => {\n      this.setState({ backgroundImage: `url(${BackgroundImage})` });\n    });\n  }\n\n  render() {\n    const { backgroundImage } = this.state;\n\n    return (\n      <div id=\"background-wrapper\">\n        {backgroundImage && <div id=\"background\" style={{ backgroundImage }} />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport createHistory from \"history/createBrowserHistory\";\n\nimport { Router, Route } from \"react-router-dom\";\n\nimport Header from \"./views/components/header\";\nimport Footer from \"./views/components/footer\";\nimport Background from \"./views/components/background\";\n\nimport { Load } from \"./loader\";\n\nimport \"./app.css\";\n\nconst history = createHistory();\n\nconst titleMap = {\n  \"#about\": \"關於\",\n  \"#products\": \"產品\",\n  \"#contact\": \"聯絡\"\n};\n\nconst Home = Load({\n  loader: () => import(\"./views/pages/home\"),\n  Loading: () => <div className=\"page-loading\" />\n});\n\nexport default class App extends Component {\n  componentDidMount() {\n    this._unlisten = history.listen(() => {\n      const hash = history.location.hash;\n      const subtitle = titleMap[hash] ? ` | ${titleMap[hash]}` : \"\";\n\n      document.title = `黃保華針車有限公司${subtitle}`;\n    });\n  }\n\n  componentWillUnmount() {\n    this._unlisten();\n  }\n\n  render() {\n    return (\n      <Router history={history}>\n        <div id=\"app\">\n          <Route path=\"/\" component={Header} />\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/\" component={Footer} />\n          <Background />\n        </div>\n      </Router>\n    );\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\n\nimport App from \"./app\";\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}